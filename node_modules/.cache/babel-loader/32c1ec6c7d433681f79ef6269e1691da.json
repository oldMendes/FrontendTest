{"ast":null,"code":"var _jsxFileName = \"/home/administrador/Tcc-puc-minas/frontend/src/views/Ativos/index.js\";\nimport React from \"react\";\nimport Card from \"../../components/Card\";\nimport ModalGeneric from \"../../components/ModalGeneric\";\nimport { Button } from \"antd\";\nimport AtivosTable from \"./AtivosTable\";\nimport axios from \"axios\";\nimport FormGroup from \"../../components/FormGroup\";\nimport SelectMenu from \"../../components/SelectMenu\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { TIPO_ATIVO } from \"../../utils/constants/selects\";\n\nconst type = tipo => {\n  switch (tipo) {\n    case \"EQUIPMENT\":\n      return 0;\n\n    case \"MACHINE\":\n      return 1;\n\n    case \"INPUT\":\n      return 2;\n\n    default:\n      break;\n  }\n};\n\nclass Ativos extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      activeId: \"\",\n      visible: false,\n      title: \"\",\n      name: \"\",\n      patrimony: \"\",\n      activeType: \"\",\n      description: \"\"\n    };\n\n    this.showModal = acao => {\n      switch (acao) {\n        case \"cadastrar\":\n          this.setState({\n            title: \"Cadastrar ativo\"\n          });\n          this.setState({\n            name: \"\",\n            patrimony: \"\",\n            activeType: \"\",\n            description: \"\"\n          });\n          break;\n\n        case \"editar\":\n          this.setState({\n            title: \"Editar ativo\"\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleOk = _e => {\n      if (this.state.title === \"Cadastrar ativo\") {\n        axios.post(\"http://localhost:8090/saveActive\", {\n          name: this.state.name,\n          patrimony: this.state.patrimony,\n          activeType: parseInt(this.state.activeType),\n          description: this.state.description\n        }).then(() => {\n          this.listarBarragens();\n        }).catch(erro => {\n          console.log(erro.response);\n        });\n      } else {\n        axios.put(`http://localhost:8090/updateActive/${this.state.activeId}`, {\n          name: this.state.name,\n          patrimony: this.state.patrimony,\n          activeType: this.state.activeType,\n          description: this.state.description\n        }).then(() => {\n          this.listarBarragens();\n        }).catch(erro => {\n          console.log(erro.response);\n        });\n      }\n\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCancel = _e => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.deletar = activeId => {\n      axios.delete(`http://localhost:8090/deleteActive/${activeId}`).then(() => {\n        this.listarBarragens();\n      }).catch(erro => {\n        alert(erro);\n      });\n    };\n\n    this.editar = activeId => {\n      axios.get(`http://localhost:8090/activeById/${activeId}`).then(reponse => {\n        this.setState({\n          name: reponse.data.name,\n          patrimony: reponse.data.patrimony,\n          activeType: type(reponse.data.activeType),\n          description: reponse.data.description,\n          activeId: reponse.data.activeId\n        });\n      }).catch(erro => {\n        alert(erro);\n      });\n      this.showModal(\"editar\");\n    };\n  }\n\n  componentDidMount() {\n    this.listarBarragens();\n  }\n\n  listarBarragens() {\n    axios.get(\"http://lb-aws-1105894158.sa-east-1.elb.amazonaws.com/entidade/Advogado/SP/S%C3%83O%20PAULO?api-key=4b94dba2-5524-4632-939b-92df1c50a645\").then(response => {\n      this.setState({\n        data: response.data\n      });\n    }).catch(erro => {\n      console.log(erro.response);\n    });\n  }\n\n  render() {\n    var _this$state;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        marginBottom: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      icon: /*#__PURE__*/React.createElement(PlusOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      }),\n      size: \"large\",\n      style: {\n        float: \"right\"\n      },\n      onClick: () => this.showModal(\"cadastrar\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, \"Cadastrar ativo\"))), /*#__PURE__*/React.createElement(Card, {\n      title: \"Ativos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      style: {\n        overflowX: \"auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bs-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AtivosTable, {\n      data: (_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state.data,\n      editar: id => this.editar(id),\n      deletar: id => this.deletar(id),\n      detalhes: id => this.props.history.push(`/detalhes-ativo/${id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalGeneric, {\n      title: this.state.title,\n      visible: this.state.visible,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bs-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      htmlFor: \"name\",\n      label: \"Nome do ativo*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.name,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputNome\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Digite o nome do usu\\xE1rio\",\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      htmlFor: \"description\",\n      label: \"Descri\\xE7\\xE3o*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.description,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputNome\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Digite o nome do usu\\xE1rio\",\n      onChange: e => this.setState({\n        description: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bs-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      htmlFor: \"patrimony\",\n      label: \"Patrim\\xF4nio*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.patrimony,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputNome\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Digite o nome do usu\\xE1rio\",\n      onChange: e => this.setState({\n        patrimony: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      label: \"Tipo de ativo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(SelectMenu, {\n      value: this.state.activeType,\n      className: \"form-control\",\n      lista: TIPO_ATIVO,\n      onChange: e => this.setState({\n        activeType: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n\n}\n\nexport default Ativos;","map":{"version":3,"sources":["/home/administrador/Tcc-puc-minas/frontend/src/views/Ativos/index.js"],"names":["React","Card","ModalGeneric","Button","AtivosTable","axios","FormGroup","SelectMenu","PlusOutlined","TIPO_ATIVO","type","tipo","Ativos","Component","state","data","activeId","visible","title","name","patrimony","activeType","description","showModal","acao","setState","handleOk","_e","post","parseInt","then","listarBarragens","catch","erro","console","log","response","put","handleCancel","deletar","delete","alert","editar","get","reponse","componentDidMount","render","marginBottom","float","overflowX","id","props","history","push","e","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Card from \"../../components/Card\";\nimport ModalGeneric from \"../../components/ModalGeneric\";\nimport { Button } from \"antd\";\nimport AtivosTable from \"./AtivosTable\";\nimport axios from \"axios\";\nimport FormGroup from \"../../components/FormGroup\";\nimport SelectMenu from \"../../components/SelectMenu\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { TIPO_ATIVO } from \"../../utils/constants/selects\";\n\nconst type = (tipo) => {\n  switch (tipo) {\n    case \"EQUIPMENT\":\n      return 0;\n    case \"MACHINE\":\n      return 1;\n    case \"INPUT\":\n      return 2;\n    default:\n      break;\n  }\n};\n\nclass Ativos extends React.Component {\n  state = {\n    data: [],\n    activeId: \"\",\n    visible: false,\n    title: \"\",\n    name: \"\",\n    patrimony: \"\",\n    activeType: \"\",\n    description: \"\",\n  };\n\n  componentDidMount() {\n    this.listarBarragens();\n  }\n  listarBarragens() {\n    axios\n      .get(\"http://lb-aws-1105894158.sa-east-1.elb.amazonaws.com/entidade/Advogado/SP/S%C3%83O%20PAULO?api-key=4b94dba2-5524-4632-939b-92df1c50a645\")\n      .then((response) => {\n        this.setState({ data: response.data });\n      })\n      .catch((erro) => {\n        console.log(erro.response);\n      });\n  }\n  showModal = (acao) => {\n    switch (acao) {\n      case \"cadastrar\":\n        this.setState({ title: \"Cadastrar ativo\" });\n        this.setState({\n          name: \"\",\n          patrimony: \"\",\n          activeType: \"\",\n          description: \"\",\n        });\n        break;\n      case \"editar\":\n        this.setState({ title: \"Editar ativo\" });\n        break;\n      default:\n        break;\n    }\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleOk = (_e) => {\n    if (this.state.title === \"Cadastrar ativo\") {\n      axios\n        .post(\"http://localhost:8090/saveActive\", {\n          name: this.state.name,\n          patrimony: this.state.patrimony,\n          activeType: parseInt(this.state.activeType),\n          description: this.state.description,\n        })\n        .then(() => {\n          this.listarBarragens();\n        })\n        .catch((erro) => {\n          console.log(erro.response);\n        });\n    } else {\n      axios\n        .put(`http://localhost:8090/updateActive/${this.state.activeId}`, {\n          name: this.state.name,\n          patrimony: this.state.patrimony,\n          activeType: this.state.activeType,\n          description: this.state.description,\n        })\n        .then(() => {\n          this.listarBarragens();\n        })\n        .catch((erro) => {\n          console.log(erro.response);\n        });\n    }\n\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleCancel = (_e) => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  deletar = (activeId) => {\n    axios\n      .delete(`http://localhost:8090/deleteActive/${activeId}`)\n      .then(() => {\n        this.listarBarragens();\n      })\n      .catch((erro) => {\n        alert(erro);\n      });\n  };\n  editar = (activeId) => {\n    axios\n      .get(`http://localhost:8090/activeById/${activeId}`)\n      .then((reponse) => {\n        this.setState({\n          name: reponse.data.name,\n          patrimony: reponse.data.patrimony,\n          activeType: type(reponse.data.activeType),\n          description: reponse.data.description,\n          activeId: reponse.data.activeId,\n        });\n      })\n      .catch((erro) => {\n        alert(erro);\n      });\n    this.showModal(\"editar\");\n  };\n  render() {\n    return (\n      <>\n        <div className=\"row\" style={{ marginBottom: \"15px\" }}>\n          <div className=\"col-md-12\">\n            <Button\n              type=\"primary\"\n              icon={<PlusOutlined />}\n              size=\"large\"\n              style={{ float: \"right\" }}\n              onClick={() => this.showModal(\"cadastrar\")}\n            >\n              Cadastrar ativo\n            </Button>\n          </div>\n        </div>\n        <Card title=\"Ativos\">\n          <br />\n          <div className=\"row\">\n            <div className=\"col-md-12\" style={{ overflowX: \"auto\" }}>\n              <div className=\"bs-component\">\n                <AtivosTable\n                  data={this.state?.data}\n                  editar={(id) => this.editar(id)}\n                  deletar={(id) => this.deletar(id)}\n                  detalhes={(id) =>\n                    this.props.history.push(`/detalhes-ativo/${id}`)\n                  }\n                />\n              </div>\n            </div>\n          </div>\n        </Card>\n        <div>\n          <ModalGeneric\n            title={this.state.title}\n            visible={this.state.visible}\n            onOk={this.handleOk}\n            onCancel={this.handleCancel}\n          >\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <div className=\"bs-component\">\n                  <FormGroup htmlFor=\"name\" label=\"Nome do ativo*\">\n                    <input\n                      value={this.state.name}\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"inputNome\"\n                      aria-describedby=\"emailHelp\"\n                      placeholder=\"Digite o nome do usuário\"\n                      onChange={(e) => this.setState({ name: e.target.value })}\n                    ></input>\n                  </FormGroup>\n                  <FormGroup htmlFor=\"description\" label=\"Descrição*\">\n                    <input\n                      value={this.state.description}\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"inputNome\"\n                      aria-describedby=\"emailHelp\"\n                      placeholder=\"Digite o nome do usuário\"\n                      onChange={(e) =>\n                        this.setState({ description: e.target.value })\n                      }\n                    ></input>\n                  </FormGroup>\n                </div>\n              </div>\n              <div className=\"col-md-6\">\n                <div className=\"bs-component\">\n                  <FormGroup htmlFor=\"patrimony\" label=\"Patrimônio*\">\n                    <input\n                      value={this.state.patrimony}\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"inputNome\"\n                      aria-describedby=\"emailHelp\"\n                      placeholder=\"Digite o nome do usuário\"\n                      onChange={(e) =>\n                        this.setState({ patrimony: e.target.value })\n                      }\n                    ></input>\n                  </FormGroup>\n                  <FormGroup label=\"Tipo de ativo\">\n                    <SelectMenu\n                      value={this.state.activeType}\n                      className=\"form-control\"\n                      lista={TIPO_ATIVO}\n                      onChange={(e) =>\n                        this.setState({ activeType: e.target.value })\n                      }\n                    />\n                  </FormGroup>\n                </div>\n              </div>\n            </div>\n          </ModalGeneric>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Ativos;\n"]},"metadata":{},"sourceType":"module"}